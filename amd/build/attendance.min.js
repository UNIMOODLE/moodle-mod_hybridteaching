define("mod_hybridteaching/attendance",["core/ajax"],(function(ajax){const manualattendance=e=>{att=e.currentTarget,attid=att.closest("tr").querySelector('[id^="attendance"]').value,att.checked?confirm("yes")?(console.log("y"),set_manual_attendance(attid,1)):att.checked=!1:confirm("no")?(console.log("n"),set_manual_attendance(attid,0)):att.checked=!0},set_manual_attendance=(attid,status)=>ajax.call([{methodname:"mod_hybridteaching_set_manual_attendance",args:{attid:attid,status:status}}])[0].done((response=>response)).fail((err=>{console.log(err)}));return{init:()=>{null!=document.getElementById("id_perpage")&&(document.getElementById("id_perpage").onchange=function(){let formElement=document.querySelector('[id^="optionsform"]');formElement&&formElement.submit()}),null!=document.getElementById("id_attfilter")&&(document.getElementById("id_attfilter").onchange=function(){let formElement=document.querySelector('[id^="optionsform"]');formElement&&formElement.submit()}),null!=document.getElementById("id_groupid")&&(document.getElementById("id_groupid").onchange=function(){let formElement=document.querySelector('[id^="optionsform"]');formElement&&formElement.submit()}),null!=document.getElementById("id_selectedsession")&&(document.getElementById("id_selectedsession").onchange=function(){let formElement=document.querySelector('[id^="sessionsform"]');formElement&&formElement.submit()}),null!=document.getElementById("id_selecteduser")&&(document.getElementById("id_selecteduser").onchange=function(){let formElement=document.querySelector('[id^="sessionsform"]');formElement&&formElement.submit()}),manualatt=document.querySelectorAll(".attendance-validated"),manualatt.forEach((att=>{att.addEventListener("change",manualattendance,!0)}))}}}));

//# sourceMappingURL=attendance.min.js.map