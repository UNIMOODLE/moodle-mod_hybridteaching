define("mod_hybridteaching/attendance",["core/ajax"],(function(ajax){const manualattendance=async e=>{var att=e.currentTarget,attid=att.closest("tr").querySelector('[id^="attendance"]').value,id=document.getElementsByName("id")[0].value;att.checked?set_manual_attendance(attid,1,id):set_manual_attendance(attid,0,id)},set_manual_attendance=(attid,status,id)=>ajax.call([{methodname:"mod_hybridteaching_set_manual_attendance",args:{attid:attid,status:status,id:id}}])[0].done((response=>response)).fail((err=>{console.log(err)}));return{init:()=>{window.addEventListener("beforeunload",(e=>{e.stopImmediatePropagation()}),!0),null!==document.getElementById("id_perpage")&&(document.getElementById("id_perpage").onchange=function(){let formElement=document.querySelector('[id^="optionsform"]');formElement&&formElement.submit()}),null!==document.getElementById("id_attfilter")&&(document.getElementById("id_attfilter").onchange=function(){let formElement=document.querySelector('[id^="optionsform"]');formElement&&formElement.submit()}),null!==document.getElementById("id_groupid")&&(document.getElementById("id_groupid").onchange=function(){let formElement=document.querySelector('[id^="optionsform"]');formElement&&formElement.submit()}),null!==document.getElementById("id_selectedsession")&&(document.getElementById("id_selectedsession").onchange=function(){let formElement=document.querySelector('[id^="sessionsform"]');formElement&&formElement.submit()}),null!==document.getElementById("id_selecteduser")&&(document.getElementById("id_selecteduser").onchange=function(){let formElement=document.querySelector('[id^="sessionsform"]');formElement&&formElement.submit()}),document.querySelectorAll(".attendance-validated").forEach((att=>{att.addEventListener("change",manualattendance,!0)}))}}}));

//# sourceMappingURL=attendance.min.js.map