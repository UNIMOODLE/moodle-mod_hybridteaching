{"version":3,"file":"formconfig.min.js","sources":["../src/formconfig.js"],"sourcesContent":["// This file is part of Moodle - https://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <https://www.gnu.org/licenses/>.\n\n/**\n * The main mod_hybridteaching configuration form js.\n *\n * @copyright   2023 isyc <isyc@example.com>\n * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport {get_string as getString} from 'core/str';\nimport {call as fetchMany} from 'core/ajax';\n/**\n * Get all selectors in one place.\n *\n */\nvar cmgroupmodeselector = null;\nif (document.getElementsByName('cmgroupmode')[0] !== undefined) {\n     cmgroupmodeselector =  document.getElementsByName('cmgroupmode')[0].value;\n}\nconst ELEMENT_SELECTOR = {\n    useAttendance: () => document.getElementById('id_useattendance'),\n    useVC: () => document.getElementById('id_usevideoconference'),\n    useVCRecord: () => document.getElementById('id_userecordvc'),\n    typeVC: () => document.getElementById('id_typevc'),\n    recordOptions: () => document.getElementById('id_sectionrecording'),\n    sectionAttendance: () => document.getElementById('id_sectionattendance'),\n    sectionAccess: () => document.getElementById('id_sectionsessionaccess'),\n    sectionInitialStatus: () => document.getElementById('id_sectioninitialstates'),\n    sectionAudience: () => document.getElementById('id_sectionaudience'),\n    participantList: () => document.getElementsByName('participants')[0],\n    modStandardGrade: () => document.getElementById('id_modstandardgrade'),\n    sessionscheduling: () => document.getElementById('id_sessionscheduling'),\n    permisionscontainer: () => document.getElementById('id_sectionaudiencecontainer'),\n    groupmode: () => document.getElementById('id_groupmode'),\n    cmgroupmode: () => cmgroupmodeselector,\n    pagecontext: () => get_page_context(document.getElementsByTagName('body')[0].getAttribute('class')),\n    welcomemsg: () => document.getElementById('id_wellcomemessage'),\n    useqr: () => document.getElementById('id_useqr'),\n};\nvar plistold = ELEMENT_SELECTOR.participantList().value;\nvar welcomemsgold = ELEMENT_SELECTOR.welcomemsg().value;\n\n/**\n * Gets user recording capability on current vctype\n *\n * @param {integer} typevc\n * @param {array} pagecontext\n * @returns response with the modified slot information.\n */\nconst userrecordingcapability = (typevc, pagecontext) => fetchMany([{\n    methodname: 'mod_hybridteaching_user_has_recording_capability',\n    args: {\n        typevc,\n        pagecontext,\n    },\n}])[0].done(response => {\n    return response;\n}).fail(err => {\n    // eslint-disable-next-line no-console\n    console.log(err);\n});\n\n//initialformi check fun on change typevc;\nexport const init = () => {\n    /**\n     * Page load actions and events.\n     */\n    get_vc_configs(ELEMENT_SELECTOR.useVC()).then();\n    useVC();\n    useAttendance();\n    useRotateQr(ELEMENT_SELECTOR.useqr());\n    useGroupMode(ELEMENT_SELECTOR.sessionscheduling()).then();\n    useSessionsScheduling();\n    vcInitialStatus(ELEMENT_SELECTOR.typeVC());\n    // Event listeners.\n    ELEMENT_SELECTOR.useVCRecord().addEventListener('change', (e) => useVCRecord(e));\n    ELEMENT_SELECTOR.useVC().addEventListener('change', (e) => useVC(e));\n    ELEMENT_SELECTOR.useAttendance().addEventListener('change', () => useAttendance());\n    ELEMENT_SELECTOR.sessionscheduling().addEventListener('change', () => useSessionsScheduling());\n    ELEMENT_SELECTOR.permisionscontainer().querySelector('[name=\"hybridteaching_participant_selection\"').disabled = true;\n    ELEMENT_SELECTOR.typeVC().addEventListener('change', (e) => vcInitialStatus(e.target));\n    ELEMENT_SELECTOR.typeVC().addEventListener('change', () => useVCRecord());\n    ELEMENT_SELECTOR.sessionscheduling().addEventListener('change', (e) => useGroupMode(e.target));\n    ELEMENT_SELECTOR.useqr().addEventListener('change', (e) => useRotateQr(e));\n};\n\nconst useSessionsScheduling = (e = ELEMENT_SELECTOR.sessionscheduling()) => {\n    let sessionscheduling = ELEMENT_SELECTOR.sessionscheduling();\n    let sectionsessions = sessionscheduling.closest('#id_sectionsessions');\n    if (is_checkbox_checked(e) && is_element_displayed(e)) {\n        sectionsessions.querySelector('#fitem_id_starttime').setAttribute('style', 'display:none');\n        sectionsessions.querySelector('#fgroup_id_durationgroup').setAttribute('style', 'display:none');\n        sectionsessions.querySelector('#id_duration').value = 0;\n        sectionsessions.querySelector('#id_starttime_enabled').checked = 0;\n\n    } else {\n        sectionsessions.querySelector('#fitem_id_starttime').setAttribute('style', 'display:flex');\n        sectionsessions.querySelector('#fgroup_id_durationgroup').setAttribute('style', 'display:flex');\n        sectionsessions.querySelector('#fitem_id_starttime').value = 0;\n\n    }\n\n};\n\nconst useAttendance = (e = ELEMENT_SELECTOR.useAttendance()) => {\n    let sectionAttendance = ELEMENT_SELECTOR.sectionAttendance();\n    let formi = sectionAttendance.getElementsByTagName('INPUT');\n    let modStandardGrade = ELEMENT_SELECTOR.modStandardGrade();\n    let gradeformselect = modStandardGrade.getElementsByTagName('SELECT')[0];\n    if (is_checkbox_checked(e) && is_element_displayed(e)) {\n        sectionAttendance.setAttribute('style', 'display:block');\n        modStandardGrade.setAttribute('style', 'display:block');\n    } else {\n        formi.forEach(input => {\n            if (input.type !== 'hidden' && input.getAttribute('readonly') === null) {\n                input.value = '';\n            }\n        });\n        sectionAttendance.setAttribute('style', 'display:none');\n\n        gradeformselect.value = 'none';\n        modStandardGrade.setAttribute('style', 'display:none');\n    }\n\n};\n\nconst useVC = (e = ELEMENT_SELECTOR.useVC()) => {\n    let recordoptions = ELEMENT_SELECTOR.useVCRecord();\n    let typeVC = ELEMENT_SELECTOR.typeVC();\n    let sectionAccess = ELEMENT_SELECTOR.sectionAccess();\n    let accessformi = sectionAccess.getElementsByTagName('INPUT');\n    let sectionInitialStatus = ELEMENT_SELECTOR.sectionInitialStatus();\n    let initialformi = sectionInitialStatus.getElementsByTagName('INPUT');\n    let sectionAudience = ELEMENT_SELECTOR.sectionAudience();\n    let participantList = ELEMENT_SELECTOR.participantList();\n    let oldtypevc = ELEMENT_SELECTOR.typeVC().value;\n    if (is_checkbox_checked(e) && is_element_displayed(e)) {\n        recordoptions.value = 1;\n        typeVC.value = oldtypevc;\n        recordoptions.closest('.form-group').setAttribute('style', 'display:flex');\n        typeVC.closest('.form-group').setAttribute('style', 'display:flex');\n\n        accessformi.forEach(accesinput => {\n            if (accesinput.type !== 'hidden'&& accesinput.type !== 'text') {\n                accesinput.value = 1;\n            }\n        });\n        sectionAccess.setAttribute('style', 'display:block');\n\n        initialformi.forEach(initialinput => {\n            if (initialinput.type !== 'hidden'&& initialinput.type !== 'text') {\n                initialinput.value = 1;\n            }\n        });\n        sectionInitialStatus.setAttribute('style', 'display:block');\n\n        if (typeof plistold !== 'undefined') {\n            participantList.value = plistold;\n        }\n        sectionAudience.setAttribute('style', 'display:block');\n\n    } else {\n        recordoptions.value = 0;\n        oldtypevc = typeVC.value;\n        typeVC.value = 0;\n        recordoptions.closest('.form-group').setAttribute('style', 'display:none');\n        typeVC.closest('.form-group').setAttribute('style', 'display:none');\n        accessformi.forEach(accesinput => {\n            if (accesinput.type !== 'hidden' && accesinput.getAttribute('readonly') === null) {\n                accesinput.value = 0;\n            }\n        });\n        sectionAccess.setAttribute('style', 'display:none');\n\n        initialformi.forEach(initialinput => {\n            if (initialinput.type !== 'hidden') {\n                initialinput.value = 0;\n            }\n        });\n        sectionInitialStatus.setAttribute('style', 'display:none');\n\n        plistold = participantList.value;\n        sectionAudience.setAttribute('style', 'display:none');\n        if (document.getElementById('norecordingcap') !== null) {\n            document.getElementById('norecordingcap').setAttribute('style', 'display:none');\n        }\n        document.getElementById('id_reusesession').checked = false;\n    }\n    useVCRecord();\n};\n\nconst useVCRecord = async(e = ELEMENT_SELECTOR.useVCRecord()) => {\n    let recordOptions = ELEMENT_SELECTOR.recordOptions();\n    let formi = recordOptions.getElementsByTagName('INPUT');\n    let typevc = get_vc_type(ELEMENT_SELECTOR.typeVC().value);\n    const norecordingcap = await getString('norecordingmoderation', 'hybridteaching');\n    userrecordingcapability(typevc, ELEMENT_SELECTOR.pagecontext()).done(r => {\n        let response = JSON.parse(r);\n        if (!response && response != 'notypevc') {\n            ELEMENT_SELECTOR.useVCRecord().checked = false;\n            ELEMENT_SELECTOR.useVCRecord().setAttribute('disabled', 'true');\n            if (document.getElementById('norecordingcap') !== null && ELEMENT_SELECTOR.useVC().checked) {\n                document.getElementById('norecordingcap').setAttribute('style', 'display:flex');\n            } else if (ELEMENT_SELECTOR.useVC().checked) {\n                let capnode = document.createElement('p');\n                capnode.append(norecordingcap);\n                capnode.setAttribute('id', 'norecordingcap');\n                capnode.setAttribute('class', 'text-danger');\n                document.getElementById('id_sectiongeneralcontainer').appendChild(capnode);\n            }\n        } else {\n            if (!ELEMENT_SELECTOR.useVCRecord().closest('.fitem').querySelector('.fa-lock')) {\n                ELEMENT_SELECTOR.useVCRecord().removeAttribute('disabled');\n            }\n            if (document.getElementById('norecordingcap') !== null && ELEMENT_SELECTOR.useVC().checked) {\n                document.getElementById('norecordingcap').setAttribute('style', 'display:none');\n            }\n        }\n    }).then( function() {\n        if (is_checkbox_checked(e) && is_element_displayed(e)) {\n            formi.forEach(input => {\n                if (input.type !== 'hidden' && input.type !== 'text') {\n                    input.value = 1;\n                }\n            });\n\n            recordOptions.setAttribute('style', 'display:block');\n        } else {\n            formi.forEach(input => {\n                if (input.type !== 'hidden') {\n                    input.value = 0;\n                }\n            });\n            recordOptions.setAttribute('style', 'display:none');\n        }\n    });\n\n    let welcomemsg = ELEMENT_SELECTOR.welcomemsg();\n    if (typevc === 'bbb') {\n        welcomemsg.closest('.fitem').setAttribute('style', 'display:flex');\n        welcomemsg.value = welcomemsgold;\n    } else {\n        if (is_element_displayed(welcomemsg)) {\n            welcomemsg.closest('.fitem').setAttribute('style', 'display:none');\n            welcomemsg.value = '';\n        }\n    }\n};\n\nconst useGroupMode = async(e = ELEMENT_SELECTOR.sessionscheduling()) => {\n    let groupmode = ELEMENT_SELECTOR.groupmode();\n    let sessionscheduling = e;\n    let cmgroupmode = ELEMENT_SELECTOR.cmgroupmode();\n    if (groupmode === undefined || groupmode === null) {\n        if (cmgroupmode != 0) {\n            sessionscheduling.setAttribute('disabled', 'true');\n            sessionscheduling.checked = true;\n            sessionscheduling.value = 1;\n            sessionscheduling.closest('div').querySelector('[type^=\"hidden\"]').value = 1;\n        } else {\n            document.getElementById('id_groupingid').setAttribute('disabled', 'true');\n        }\n    } else {\n        if (!is_checkbox_checked(sessionscheduling)) {\n            groupmode.closest('.fitem').setAttribute('style', 'display:none;');\n            document.getElementById('fitem_id_groupingid').setAttribute('style', 'display:none;');\n            groupmode.value = 0;\n            document.getElementById('id_groupingid').value = 0;\n        } else {\n            groupmode.closest('.fitem').setAttribute('style', 'display:flex;');\n            document.getElementById('fitem_id_groupingid').setAttribute('style', 'display:flex;');\n            document.getElementById('id_groupingid').value = 0;\n        }\n    }\n};\n\nconst is_checkbox_checked = (e) => {\n    if (e.target !== undefined) {\n        return e.target.checked;\n    } return e.checked;\n};\n\nconst is_element_displayed = (e) => {\n    let displayed;\n    if (e.target !== undefined) {\n        displayed = window.getComputedStyle(e.target.closest('.form-group'), null).display;\n    } else {\n        displayed = window.getComputedStyle(e.closest('.form-group'), null).display;\n    }\n    return displayed != 'none';\n};\n\nconst vcInitialStatus = (e) => {\n    let target = (e);\n    if (target.options[target.selectedIndex] === undefined) {\n        return null;\n    }\n    let vctypevalue = target.options[target.selectedIndex].value;\n    let regex = /[A-Za-z]+/i;\n    let vctype = vctypevalue.match(regex)[0];\n    let validStatus = [];\n    let disabledOptions = [];\n    validStatus['vc'] = ELEMENT_SELECTOR.sectionInitialStatus().querySelectorAll('input:not([type=hidden])');\n    validStatus['store'] = ELEMENT_SELECTOR.recordOptions().querySelectorAll('input:not([type=hidden])');\n    switch (vctype) {\n        case 'bbb':\n            disabledOptions = ['id_downloadrecords'];\n            break;\n        case 'meet':\n            disabledOptions = ['id_disablecam', 'id_disablemic', 'id_disableprivatechat', 'id_disablepublicchat',\n                'id_disablenote', 'id_hideuserlist', 'id_blockroomdesign', 'id_ignorelocksettings',\n                'id_initialrecord', 'id_hiderecordbutton'];\n            break;\n        case 'teams':\n            disabledOptions = ['id_disableprivatechat', 'id_disablenote', 'id_hideuserlist', 'id_blockroomdesign',\n                'id_ignorelocksettings', 'id_hiderecordbutton', 'id_showpreviewrecord'];\n            break;\n        case 'zoom':\n            disabledOptions = ['id_disableprivatechat', 'id_disablepublicchat', 'id_disablenote', 'id_hideuserlist',\n                'id_blockroomdesign', 'id_ignorelocksettings', 'id_initialrecord', 'id_hiderecordbutton',\n                'id_showpreviewrecord'];\n            break;\n        default:\n            break;\n    }\n    vcInitialStatusDisplay(validStatus['vc'], validStatus['store'], disabledOptions, vctype).then();\n};\n\nconst vcInitialStatusDisplay = async(vc, store, conditions, vctype) => {\n    const nostateconfig = await getString('noinitialstateconfig', 'mod_hybridteaching');\n    const nouseconfigstr = await getString('nouseconfig', 'mod_hybridteaching', vctype);\n    let disabledOptions = conditions;\n    vc.forEach(input => {\n        if (disabledOptions.includes(input.id)) {\n            input.setAttribute('disabled', 'true');\n            input.value = 0;\n            input.checked = false;\n            if (input.closest('.form-check').querySelector('.nouseconfig')) {\n                let nouseconfigmsg = input.closest('.form-check').querySelector('.nouseconfig');\n                input.closest('.form-check').removeChild(nouseconfigmsg);\n            }\n            let nouseconfig = document.createElement('p');\n            nouseconfig.append(nouseconfigstr);\n            nouseconfig.setAttribute('class', 'text-info nouseconfig');\n            input.closest('.form-check').appendChild(nouseconfig);\n        } else {\n            input.removeAttribute('disabled');\n            input.value = 1;\n            if (input.closest('.form-check').querySelector('.nouseconfig')) {\n                let nouseconfigmsg = input.closest('.form-check').querySelector('.nouseconfig');\n                input.closest('.form-check').removeChild(nouseconfigmsg);\n            }\n        }\n    });\n    store.forEach(input => {\n        if (disabledOptions.includes(input.id)) {\n            input.setAttribute('disabled', 'true');\n            input.value = 0;\n            input.checked = false;\n            if (input.closest('.form-check').querySelector('.nouseconfig')) {\n                let nouseconfigmsg = input.closest('.form-check').querySelector('.nouseconfig');\n                input.closest('.form-check').removeChild(nouseconfigmsg);\n            }\n            let nouseconfig = document.createElement('p');\n            nouseconfig.append(nouseconfigstr);\n            nouseconfig.setAttribute('class', 'text-info nouseconfig');\n            input.closest('.form-check').appendChild(nouseconfig);\n        } else {\n            input.removeAttribute('disabled');\n            input.value = 1;\n            if (input.closest('.form-check').querySelector('.nouseconfig')) {\n                let nouseconfigmsg = input.closest('.form-check').querySelector('.nouseconfig');\n                input.closest('.form-check').removeChild(nouseconfigmsg);\n            }\n        }\n    });\n    if (vctype === 'meet') {\n        if (document.getElementById('nostateconfig') !== null) {\n            document.getElementById('nostateconfig').setAttribute('style', 'display:flex');\n        } else {\n            let stateNode = document.createElement('p');\n            stateNode.append(nostateconfig);\n            stateNode.setAttribute('id', 'nostateconfig');\n            stateNode.setAttribute('class', 'text-info');\n            document.getElementById('id_sectioninitialstatescontainer').appendChild(stateNode);\n        }\n    } else {\n        if (document.getElementById('nostateconfig') !== null) {\n            document.getElementById('nostateconfig').setAttribute('style', 'display:none');\n        }\n    }\n};\n\nconst get_page_context = (bodyinfo) => {\n    let regex = /context-[0-9]+/i;\n    return bodyinfo.match(regex)[0].substring(8);\n};\n\nconst get_vc_type = (vctype) => {\n    if (vctype === undefined || vctype === '') {\n        return false;\n    }\n    let regex = /-[A-Za-z]+/i;\n    return vctype.match(regex)[0].substring(1);\n};\n\nconst get_vc_configs = async(usevc) => {\n    //const noconfig = await getString('vcconfigremoved', 'mod_hybridteaching');\n    if (ELEMENT_SELECTOR.typeVC().options.length === 0) {\n        usevc.setAttribute('disabled', 'true');\n        usevc.checked = false;\n        //usevc.closest('.fitem').append(noconfig);\n    }\n    //console.log(ELEMENT_SELECTOR.typeVC(), ELEMENT_SELECTOR.typeVC().options.length === 0, 1);\n};\n\nconst useRotateQr = (e) => {\n    let rotateqr = document.querySelector('#id_rotateqr');\n    // Check if its an event or the elemnt what we need to check.\n    if (e.target !== undefined) {\n        e = e.target;\n    }\n    let qrinuse = e.checked;\n    if (qrinuse) {\n        if (rotateqr.getAttribute('disabled')) {\n            rotateqr.removeAttribute('disabled');\n        }\n    } else {\n        rotateqr.checked = false;\n        rotateqr.setAttribute('disabled', true);\n    }\n};\n"],"names":["cmgroupmodeselector","undefined","document","getElementsByName","value","ELEMENT_SELECTOR","getElementById","get_page_context","getElementsByTagName","getAttribute","plistold","welcomemsgold","userrecordingcapability","typevc","pagecontext","methodname","args","done","response","fail","err","console","log","get_vc_configs","then","useVC","useAttendance","useRotateQr","useGroupMode","useSessionsScheduling","vcInitialStatus","addEventListener","e","useVCRecord","querySelector","disabled","target","sessionscheduling","sectionsessions","closest","is_checkbox_checked","is_element_displayed","setAttribute","checked","sectionAttendance","formi","modStandardGrade","gradeformselect","forEach","input","type","recordoptions","typeVC","sectionAccess","accessformi","sectionInitialStatus","initialformi","sectionAudience","participantList","oldtypevc","accesinput","initialinput","async","recordOptions","get_vc_type","norecordingcap","r","JSON","parse","removeAttribute","capnode","createElement","append","appendChild","welcomemsg","groupmode","cmgroupmode","displayed","window","getComputedStyle","display","options","selectedIndex","vctype","match","validStatus","disabledOptions","querySelectorAll","vcInitialStatusDisplay","vc","store","conditions","nostateconfig","nouseconfigstr","includes","id","nouseconfigmsg","removeChild","nouseconfig","stateNode","bodyinfo","substring","length","usevc","rotateqr"],"mappings":"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"}