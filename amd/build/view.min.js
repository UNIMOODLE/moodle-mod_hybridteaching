define("mod_hybridteaching/view",["core/ajax","core/toast","core/str"],(function(ajax,toast,str){const hybridteaching_student_view_update=(sessionid,userid)=>ajax.call([{methodname:"mod_hybridteaching_get_display_actions",args:{sessionid:sessionid,userid:userid}}])[0].done((response=>JSON.parse(response))).fail((err=>{console.log(err)})),update_view=function(sessionid,userid){let timer=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;hybridteaching_student_view_update(sessionid,userid).done((r=>{r=JSON.parse(r);var useform=!1;if(null===r.buttons||0==r.buttons)clearInterval(timer);else{var display=r.buttons;if(!r.admin)"enter"==display?toast.add(str.get_string("entersession","hybridteaching")):toast.add(str.get_string("exitsession","hybridteaching")),str.get_string("exitsession","hybridteaching").done((function(exitstring){"exit"==display&&(document.querySelector("#zonemessage").querySelector(".alert-info").textContent=exitstring)})),clearInterval(timer);document.getElementsByTagName("form").forEach((form=>{let formid=form.getAttribute("id");if(null!=formid&&(useform=!0),useform&&("enter"==display||"exit"==display))switch(formid){case"joinvc":case"showqr":case"registeratt":"enter"==display?form.setAttribute("style","display: block;"):form.setAttribute("style","display: none;");break;case"finishatt":"enter"==display?form.setAttribute("style","display: none;"):form.setAttribute("style","display: block;")}}))}}))};return{init:(sessionid,userid)=>{update_view(sessionid,userid),hybridteaching_student_view_update(sessionid,userid);var timer=setInterval((()=>{update_view(sessionid,userid,timer)}),15e3)}}}));

//# sourceMappingURL=view.min.js.map