define("mod_hybridteaching/view",["core/ajax","core/toast","core/str"],(function(ajax,toast,str){const hybridteaching_student_view_update=(sessionid,userid)=>ajax.call([{methodname:"mod_hybridteaching_get_display_actions",args:{sessionid:sessionid,userid:userid}}])[0].done((response=>JSON.parse(response))).fail((err=>{console.log(err)})),update_view=function(sessionid,userid){let timer=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;hybridteaching_student_view_update(sessionid,userid).done((r=>{if(null===(r=JSON.parse(r)).buttons||0==r.buttons)clearInterval(timer);else{var display=r.buttons;r.admin||"enter"==display&&(clearInterval(timer),location.reload())}}))};return{init:(sessionid,userid)=>{update_view(sessionid,userid),hybridteaching_student_view_update(sessionid,userid),toast.add(str.get_string("cantcreatevc","hybridteaching"));var timer=setInterval((()=>{update_view(sessionid,userid,timer)}),15e3)}}}));

//# sourceMappingURL=view.min.js.map